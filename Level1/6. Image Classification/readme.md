## 프로젝트 Wrap Up
### 0. 프로젝트 한 줄 개요
- 사람 얼굴 이미지를 input으로 받으면, 마스크를 쓰고 있는지, 정확히 쓰고 있는지, 또는 쓰지 않는지 자동으로 가려내고 성별과 나이대까지 예측하는 모델을 만드는 것

### 1. 이번 프로젝트에서 나의 목표는 무엇이었는가?
- 가장 큰 목표는 데이터 분석부터 Inference까지 전체 과정을 직접 구현해봄으로써 전체 흐름을 손에 익히는 것이고, 
- 그 다음으로는 앞으로 배워갈 CV 도메인과 모델링 관련된 여러 기법들을 (예를 들면, Augmentation, Fine-tuning, Cutmix, Imbalanced Data를 해결하기 위한 Loss와 Sampler 등..) 구현하고 사용해보는 것 입니다.


### 2. 나는 어떤 방식으로 모델을 개선했고, 팀에서 어떤 시도를 해봤는가? 그리고 그 효과는?
>#### 데이터 측면 
- 우선 데이터셋 자체가 매우 불균형했기 때문에, 데이터가 부족했던 클래스에 대해 Albumentation 적용해서 아예 데이터를 추가한 상태에서 학습을 했습니다. 어느정도 불균형이 해소되고 다양한 이미지가 추가되다보니 성능이 더 올라갔던 것 같습니다.

- 또한 멘토님께서 해당 문제에 대해서 Focal Loss나 Cutmix 기법을 추천해주셔서 이를 저희 데이터셋에 직접 적용해서 시각화를 해보고 학습을 해봤습니다. 특히 Cutmix의 경우, 이미지의 왼쪽 절반을 잘라서 사용했더니 성능이 개선된 것을 알 수 있었습니다. 
- 기존 cutmix처럼 랜덤한 위치에서 랜덤한 크기로 cutmix를 진행하면 오히려 중요한 정보를 잃게되서 그런 것 같습니다.

>#### 모델링 측면  
- 모델링에서는 현재 우리가 맞춰야 되는 클래스(18개)를 작게 나눈 다음에 (마스크, 성별, 나이) 각 task별로 따로 학습과 예측을 하고 최종적으로 이를 합쳐서 예측(18개)하는 방법을 팀원들에게 제시했습니다. 
- 이에 대해서 멘토님과 얘기를 나눠본 후, 'Multi Label Classifier', 'Multi Sample Dropout'이라는 키워드 중심으로 공부를 한 후에, 직접 모델을 설계해봤습니다. 
- 이를 통해 데이터셋이 Conv Layer들을 지나면 마스크, 성별, 나이 각각의 FC Layer로 흐를 수 있게 설계했습니다. 
- 신기했던 점은 정확도 측면에서는 기존 모델과 차이가 크지 않았지만, 대회 평가지표인 F1 score는 더 좋게 나왔다는 점 입니다. 아무래도 기존 모델은 18개 클래스를 한번에 예측하는 반면에 Multi Sample Dropout 경우에는 Task 별로 학습과 예측을 하기 때문에 더 정교해지지 않았나 싶습니다.

>#### 협업 측면  
- 제가 깃허브로 협업을 해본 적이 이번 대회가 처음이어서, 부캠 학습시간이 끝나면 따로 깃허브 사용법에 대해서 공부를 했었고, 중간중간 팀원들이 사용법을 가르쳐줬기 때문에 이것만 하더라고 저는 많은 것을 얻었다고 생각하고 있습니다.
- 깃허브에서 각자의 코드를 공유하고 리뷰를 할 수 있었고, 제가 노션(Notion)으로 프로젝트 관리 템플릿을 만들어서 팀원들에게 공유해줬습니다. 각자 현재 하고 있는 작업(doing)과 끝난 작업(done) 그리고 실험결과(experiment)를 적을 수 있는 템플릿을 만들어서 프로젝트 현황을 쉽게 파악할 수 있게 하려고 했습니다.



### 3. 마주한 한계는 무엇이며, 아쉬웠던 점은 무엇인가?

- 정확한 가이드라인 없이 여러가지 기법들이나 모델링 방법들에 대해서만 몰두했던 것 같습니다. 
- 대회를 진행하면서 각종 아이디어와 적용해보고 싶은 기법들은 많았는데, 구현능력과 속도가 느리다보니 이를 전부 적용해보지 못한 점이 아쉬웠습니다. 
- 또한 시간은 부족한데 하고 싶은 것은 많아서 실험하는 것에 급급하다보니 성능이 안 좋게 나올 경우, 문제의 원인을 정확히 분석하질 않았습니다. 


### 4. 한계/교훈을 바탕으로 다음 P-Stage에서 스스로 새롭게 시도해볼 것은 무엇일까?
- 실험 분석과 관리의 중요성을 깨닫게 됐습니다. 
- 다음 P-Stage 부터는 wandb를 사용해서 실험 관리를 하고 팀원에게 현황을 효율적으로 공유할 수 있도록 할 예정입니다. 
- 또한 실험 분석에 집중해서 성능 저하의 원인을 파악하고 이를 개선하는 방식으로 진행을 할 생각입니다.


---
### 잘한 점, 좋았던 점
- 1일 1커밋하기 순항 중
- 프로젝트 관리 페이지(노션을 사용)를 만들어서 공유했음
- 데이터 분석부터 테스트 데이터 예측과 submission 제출까지 직접 코드를 작성해봤음.
- 부캠에서 제공한 base code와 내 코드를 비교하면서 퀄리티 좋은 코드에 대해 알게 됨.
- V100 이라는 좋은 성능에서 실험을 해볼 수 있다는 점


### 아쉬운 점, 개선할 점
- 아직 코딩 실력이 많이 부족해서 내가 원하는 것을 구현하는데 시간이 많이 걸림


### 도전 및 시도할 점
- Dataset, Augmentation, Model, Loss 등등.. 구현한 것들을 프로젝트 템플릿에 옮기는 작업을 해야된다.
- 주말동안 다양한 실험을 해보고, 정리할 예정
- 멘토님이 말씀하신 하나의 모델에서 여러 브랜치를 만들어서 학습하는 방법을 구현해야 된다.

### 키워드 및 알게된 것
- VSCode의 다양한 기능들 : 북마크, 코드 스니펫 등..으로 효율성 높이기
- Wandb의 엄청난 UI
- 프로젝트 템플릿(base code)
